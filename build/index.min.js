window.addEventListener("DOMContentLoaded", () => {
    let mainElement = document.querySelector("main");
    let Theme = localStorage.getItem("Theme");
    function modeChange() {
        mainElement.classList.toggle("darkTheme");
        if (!mainElement.classList.contains("darkTheme")) {
            mainElement.classList.add("lightTheme");
        } else {
            mainElement.classList.remove("lightTheme");
        }
        localStorage.setItem(
            "Theme",
            mainElement.classList.contains("darkTheme")
        );
    }
    document.getElementById("mode").addEventListener("change", modeChange);
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        mainElement.classList.add("darkTheme");
    } else {
        mainElement.classList.add("lightTheme");
    }
    if (Theme) {
        mainElement.classList.remove("lightTheme", "darkTheme");
        if (Theme == "true") {
            mainElement.classList.add("darkTheme");
        } else {
            mainElement.classList.add("lightTheme");
        }
    }
    setTimeout(() => {
        mainElement.classList.add("loaded");
    });
});
