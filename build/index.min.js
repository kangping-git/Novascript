window.addEventListener("DOMContentLoaded", () => {
    let mainElement = document.querySelector("main");
    function modeChange() {
        mainElement.classList.toggle("darkmode");
        if (!mainElement.classList.contains("darkmode")) {
            mainElement.classList.add("lightmode");
        } else {
            mainElement.classList.remove("lightmode");
        }
    }
    document.getElementById("mode").addEventListener("change", modeChange);
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        mainElement.classList.add("darkmode");
        if (!mainElement.classList.contains("darkmode")) {
            mainElement.classList.add("lightmode");
        } else {
            mainElement.classList.remove("lightmode");
        }
    }
    setTimeout(() => {
        mainElement.classList.add("loaded");
    });
});
